"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var path$1=_interopDefault(require("path")),fs$1=_interopDefault(require("fs"));require("module");var childProcess=_interopDefault(require("child_process")),util$1=_interopDefault(require("util")),os=_interopDefault(require("os")),intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),encode=function(e){if(0<=e&&e<intToCharMap.length)return intToCharMap[e];throw new TypeError("Must be between 0 and 63: "+e)},decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1},base64={encode:encode,decode:decode},VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}function fromVLQSigned(e){var r=e>>1;return 1==(1&e)?-r:r}var encode$1=function(e){var r,t="",n=toVLQSigned(e);do{r=n&VLQ_BASE_MASK,(n>>>=VLQ_BASE_SHIFT)>0&&(r|=VLQ_CONTINUATION_BIT),t+=base64.encode(r)}while(n>0);return t},decode$1=function(e,r,t){var n,o,i=e.length,s=0,a=0;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=base64.decode(e.charCodeAt(r++))))throw new Error("Invalid base64 digit: "+e.charAt(r-1));n=!!(o&VLQ_CONTINUATION_BIT),s+=(o&=VLQ_BASE_MASK)<<a,a+=VLQ_BASE_SHIFT}while(n);t.value=fromVLQSigned(s),t.rest=r},base64Vlq={encode:encode$1,decode:decode$1},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,r){return e(r={exports:{}},r.exports),r.exports}var util=createCommonjsModule((function(e,r){r.getArg=function(e,r,t){if(r in e)return e[r];if(3===arguments.length)return t;throw new Error('"'+r+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function o(e){var r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function i(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}function s(e){var t=e,n=o(e);if(n){if(!n.path)return e;t=n.path}for(var s,a=r.isAbsolute(t),u=t.split(/\/+/),c=0,l=u.length-1;l>=0;l--)"."===(s=u[l])?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return""===(t=u.join("/"))&&(t=a?"/":"."),n?(n.path=t,i(n)):t}function a(e,r){""===e&&(e="."),""===r&&(r=".");var t=o(r),a=o(e);if(a&&(e=a.path||"/"),t&&!t.scheme)return a&&(t.scheme=a.scheme),i(t);if(t||r.match(n))return r;if(a&&!a.host&&!a.path)return a.host=r,i(a);var u="/"===r.charAt(0)?r:s(e.replace(/\/+$/,"")+"/"+r);return a?(a.path=u,i(a)):u}r.urlParse=o,r.urlGenerate=i,r.normalize=s,r.join=a,r.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},r.relative=function(e,r){""===e&&(e="."),e=e.replace(/\/$/,"");for(var t=0;0!==r.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return r;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var r=e.length;if(r<9)return!1;if(95!==e.charCodeAt(r-1)||95!==e.charCodeAt(r-2)||111!==e.charCodeAt(r-3)||116!==e.charCodeAt(r-4)||111!==e.charCodeAt(r-5)||114!==e.charCodeAt(r-6)||112!==e.charCodeAt(r-7)||95!==e.charCodeAt(r-8)||95!==e.charCodeAt(r-9))return!1;for(var t=r-10;t>=0;t--)if(36!==e.charCodeAt(t))return!1;return!0}function p(e,r){return e===r?0:null===e?1:null===r?-1:e>r?1:-1}r.toSetString=u?c:function(e){return l(e)?"$"+e:e},r.fromSetString=u?c:function(e){return l(e)?e.slice(1):e},r.compareByOriginalPositions=function(e,r,t){var n=p(e.source,r.source);return 0!==n?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)||t?n:0!==(n=e.generatedColumn-r.generatedColumn)?n:0!==(n=e.generatedLine-r.generatedLine)?n:p(e.name,r.name)},r.compareByGeneratedPositionsDeflated=function(e,r,t){var n=e.generatedLine-r.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-r.generatedColumn)||t?n:0!==(n=p(e.source,r.source))?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)?n:p(e.name,r.name)},r.compareByGeneratedPositionsInflated=function(e,r){var t=e.generatedLine-r.generatedLine;return 0!==t?t:0!==(t=e.generatedColumn-r.generatedColumn)?t:0!==(t=p(e.source,r.source))?t:0!==(t=e.originalLine-r.originalLine)?t:0!==(t=e.originalColumn-r.originalColumn)?t:p(e.name,r.name)},r.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},r.computeSourceURL=function(e,r,t){if(r=r||"",e&&("/"!==e[e.length-1]&&"/"!==r[0]&&(e+="/"),r=e+r),t){var n=o(t);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var u=n.path.lastIndexOf("/");u>=0&&(n.path=n.path.substring(0,u+1))}r=a(i(n),r)}return s(r)}})),util_1=util.getArg,util_2=util.urlParse,util_3=util.urlGenerate,util_4=util.normalize,util_5=util.join,util_6=util.isAbsolute,util_7=util.relative,util_8=util.toSetString,util_9=util.fromSetString,util_10=util.compareByOriginalPositions,util_11=util.compareByGeneratedPositionsDeflated,util_12=util.compareByGeneratedPositionsInflated,util_13=util.parseSourceMapInput,util_14=util.computeSourceURL,has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;function ArraySet(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}ArraySet.fromArray=function(e,r){for(var t=new ArraySet,n=0,o=e.length;n<o;n++)t.add(e[n],r);return t},ArraySet.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(e,r){var t=hasNativeMap?e:util.toSetString(e),n=hasNativeMap?this.has(e):has.call(this._set,t),o=this._array.length;n&&!r||this._array.push(e),n||(hasNativeMap?this._set.set(e,o):this._set[t]=o)},ArraySet.prototype.has=function(e){if(hasNativeMap)return this._set.has(e);var r=util.toSetString(e);return has.call(this._set,r)},ArraySet.prototype.indexOf=function(e){if(hasNativeMap){var r=this._set.get(e);if(r>=0)return r}else{var t=util.toSetString(e);if(has.call(this._set,t))return this._set[t]}throw new Error('"'+e+'" is not in the set.')},ArraySet.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},ArraySet.prototype.toArray=function(){return this._array.slice()};var ArraySet_1=ArraySet,arraySet={ArraySet:ArraySet_1},binarySearch=createCommonjsModule((function(e,r){r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.search=function(e,t,n,o){if(0===t.length)return-1;var i=function e(t,n,o,i,s,a){var u=Math.floor((n-t)/2)+t,c=s(o,i[u],!0);return 0===c?u:c>0?n-u>1?e(u,n,o,i,s,a):a==r.LEAST_UPPER_BOUND?n<i.length?n:-1:u:u-t>1?e(t,u,o,i,s,a):a==r.LEAST_UPPER_BOUND?u:t<0?-1:t}(-1,t.length,e,t,n,o||r.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===n(t[i],t[i-1],!0);)--i;return i}})),binarySearch_1=binarySearch.GREATEST_LOWER_BOUND,binarySearch_2=binarySearch.LEAST_UPPER_BOUND,binarySearch_3=binarySearch.search;function swap(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function randomIntInRange(e,r){return Math.round(e+Math.random()*(r-e))}function doQuickSort(e,r,t,n){if(t<n){var o=t-1;swap(e,randomIntInRange(t,n),n);for(var i=e[n],s=t;s<n;s++)r(e[s],i)<=0&&swap(e,o+=1,s);swap(e,o+1,s);var a=o+1;doQuickSort(e,r,t,a-1),doQuickSort(e,r,a+1,n)}}var quickSort_1=function(e,r){doQuickSort(e,r,0,e.length-1)},quickSort={quickSort:quickSort_1},ArraySet$1=arraySet.ArraySet,quickSort$1=quickSort.quickSort;function SourceMapConsumer(e,r){var t=e;return"string"==typeof e&&(t=util.parseSourceMapInput(e)),null!=t.sections?new IndexedSourceMapConsumer(t,r):new BasicSourceMapConsumer(t,r)}function BasicSourceMapConsumer(e,r){var t=e;"string"==typeof e&&(t=util.parseSourceMapInput(e));var n=util.getArg(t,"version"),o=util.getArg(t,"sources"),i=util.getArg(t,"names",[]),s=util.getArg(t,"sourceRoot",null),a=util.getArg(t,"sourcesContent",null),u=util.getArg(t,"mappings"),c=util.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=util.normalize(s)),o=o.map(String).map(util.normalize).map((function(e){return s&&util.isAbsolute(s)&&util.isAbsolute(e)?util.relative(s,e):e})),this._names=ArraySet$1.fromArray(i.map(String),!0),this._sources=ArraySet$1.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(e){return util.computeSourceURL(s,e,r)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=r,this.file=c}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(e,r){var t=e;"string"==typeof e&&(t=util.parseSourceMapInput(e));var n=util.getArg(t,"version"),o=util.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new ArraySet$1,this._names=new ArraySet$1;var i={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=util.getArg(e,"offset"),n=util.getArg(t,"line"),o=util.getArg(t,"column");if(n<i.line||n===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new SourceMapConsumer(util.getArg(e,"map"),r)}}))}SourceMapConsumer.fromSourceMap=function(e,r){return BasicSourceMapConsumer.fromSourceMap(e,r)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(e,r){var t=e.charAt(r);return";"===t||","===t},SourceMapConsumer.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(e,r,t){var n,o=r||null;switch(t||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:n=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:n=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;n.map((function(e){var r=null===e.source?null:this._sources.at(e.source);return{source:r=util.computeSourceURL(i,r,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(e){var r=util.getArg(e,"line"),t={source:util.getArg(e,"source"),originalLine:r,originalColumn:util.getArg(e,"column",0)};if(t.source=this._findSourceIndex(t.source),t.source<0)return[];var n=[],o=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)n.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var a=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==a;)n.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return n},BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(e){var r,t=e;if(null!=this.sourceRoot&&(t=util.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1},BasicSourceMapConsumer.fromSourceMap=function(e,r){var t=Object.create(BasicSourceMapConsumer.prototype),n=t._names=ArraySet$1.fromArray(e._names.toArray(),!0),o=t._sources=ArraySet$1.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t._sourceMapURL=r,t._absoluteSources=t._sources.toArray().map((function(e){return util.computeSourceURL(t.sourceRoot,e,r)}));for(var i=e._mappings.toArray().slice(),s=t.__generatedMappings=[],a=t.__originalMappings=[],u=0,c=i.length;u<c;u++){var l=i[u],p=new Mapping;p.generatedLine=l.generatedLine,p.generatedColumn=l.generatedColumn,l.source&&(p.source=o.indexOf(l.source),p.originalLine=l.originalLine,p.originalColumn=l.originalColumn,l.name&&(p.name=n.indexOf(l.name)),a.push(p)),s.push(p)}return quickSort$1(t.__originalMappings,util.compareByOriginalPositions),t},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function(e,r){for(var t,n,o,i,s,a=1,u=0,c=0,l=0,p=0,f=0,h=e.length,m=0,g={},d={},E=[],v=[];m<h;)if(";"===e.charAt(m))a++,m++,u=0;else if(","===e.charAt(m))m++;else{for((t=new Mapping).generatedLine=a,i=m;i<h&&!this._charIsMappingSeparator(e,i);i++);if(o=g[n=e.slice(m,i)])m+=n.length;else{for(o=[];m<i;)base64Vlq.decode(e,m,d),s=d.value,m=d.rest,o.push(s);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");g[n]=o}t.generatedColumn=u+o[0],u=t.generatedColumn,o.length>1&&(t.source=p+o[1],p+=o[1],t.originalLine=c+o[2],c=t.originalLine,t.originalLine+=1,t.originalColumn=l+o[3],l=t.originalColumn,o.length>4&&(t.name=f+o[4],f+=o[4])),v.push(t),"number"==typeof t.originalLine&&E.push(t)}quickSort$1(v,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,quickSort$1(E,util.compareByOriginalPositions),this.__originalMappings=E},BasicSourceMapConsumer.prototype._findMapping=function(e,r,t,n,o,i){if(e[t]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[t]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return binarySearch.search(e,r,o,i)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var t=this._generatedMappings[e+1];if(r.generatedLine===t.generatedLine){r.lastGeneratedColumn=t.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},t=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(t>=0){var n=this._generatedMappings[t];if(n.generatedLine===r.generatedLine){var o=util.getArg(n,"source",null);null!==o&&(o=this._sources.at(o),o=util.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=util.getArg(n,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:util.getArg(n,"originalLine",null),column:util.getArg(n,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},BasicSourceMapConsumer.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var t=this._findSourceIndex(e);if(t>=0)return this.sourcesContent[t];var n,o=e;if(null!=this.sourceRoot&&(o=util.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(n=util.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(e){var r=util.getArg(e,"source");if((r=this._findSourceIndex(r))<0)return{line:null,column:null,lastColumn:null};var t={source:r,originalLine:util.getArg(e,"line"),originalColumn:util.getArg(e,"column")},n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(n>=0){var o=this._originalMappings[n];if(o.source===t.source)return{line:util.getArg(o,"generatedLine",null),column:util.getArg(o,"generatedColumn",null),lastColumn:util.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var t=0;t<this._sections[r].consumer.sources.length;t++)e.push(this._sections[r].consumer.sources[t]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},t=binarySearch.search(r,this._sections,(function(e,r){var t=e.generatedLine-r.generatedOffset.generatedLine;return t||e.generatedColumn-r.generatedOffset.generatedColumn})),n=this._sections[t];return n?n.consumer.originalPositionFor({line:r.generatedLine-(n.generatedOffset.generatedLine-1),column:r.generatedColumn-(n.generatedOffset.generatedLine===r.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},IndexedSourceMapConsumer.prototype.sourceContentFor=function(e,r){for(var t=0;t<this._sections.length;t++){var n=this._sections[t].consumer.sourceContentFor(e,!0);if(n)return n}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var t=this._sections[r];if(-1!==t.consumer._findSourceIndex(util.getArg(e,"source"))){var n=t.consumer.generatedPositionFor(e);if(n)return{line:n.line+(t.generatedOffset.generatedLine-1),column:n.column+(t.generatedOffset.generatedLine===n.line?t.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var t=0;t<this._sections.length;t++)for(var n=this._sections[t],o=n.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],a=n.consumer._sources.at(s.source);a=util.computeSourceURL(n.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var u=null;s.name&&(u=n.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var c={source:a,generatedLine:s.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(n.generatedOffset.generatedLine===s.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}quickSort$1(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort$1(this.__originalMappings,util.compareByOriginalPositions)};var toString=Object.prototype.toString,isModern="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;function isArrayBuffer(e){return"ArrayBuffer"===toString.call(e).slice(8,-1)}function fromArrayBuffer(e,r,t){r>>>=0;var n=e.byteLength-r;if(n<0)throw new RangeError("'offset' is out of bounds");if(void 0===t)t=n;else if((t>>>=0)>n)throw new RangeError("'length' is out of bounds");return isModern?Buffer.from(e.slice(r,r+t)):new Buffer(new Uint8Array(e.slice(r,r+t)))}function fromString(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return isModern?Buffer.from(e,r):new Buffer(e,r)}function bufferFrom(e,r,t){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return isArrayBuffer(e)?fromArrayBuffer(e,r,t):"string"==typeof e?fromString(e,r):isModern?Buffer.from(e):new Buffer(e)}var fs,bufferFrom_1=bufferFrom,path=path$1;try{(fs=fs$1).existsSync&&fs.readFileSync||(fs=null)}catch(e){}var environment="auto",fileContentsCache={},reSourceMap=/^data:application\/json[^,]+base64,/,retrieveFileHandlers=[],retrieveMapHandlers=[];function isInBrowser(){return"browser"===environment||"node"!==environment&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function handlerExec(e){return function(r){for(var t=0;t<e.length;t++){var n=e[t](r);if(n)return n}return null}}var retrieveFile=handlerExec(retrieveFileHandlers);function supportRelativeURL(e,r){if(!e)return r;var t=path.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(t),o=n?n[0]:"",i=t.slice(o.length);return o&&/^\/\w\:/.test(i)?(o+="/")+path.resolve(t.slice(o.length),r).replace(/\\/g,"/"):o+path.resolve(t.slice(o.length),r)}function retrieveSourceMapURL(e){var r;if(isInBrowser())try{var t=new XMLHttpRequest;t.open("GET",e,!1),t.send(null),r=4===t.readyState?t.responseText:null;var n=t.getResponseHeader("SourceMap")||t.getResponseHeader("X-SourceMap");if(n)return n}catch(e){}r=retrieveFile(e);for(var o,i,s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;i=s.exec(r);)o=i;return o?o[1]:null}retrieveFileHandlers.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,r){return r?"":"/"}))),e in fileContentsCache)return fileContentsCache[e];var r="";try{if(fs)fs.existsSync(e)&&(r=fs.readFileSync(e,"utf8"));else{var t=new XMLHttpRequest;t.open("GET",e,!1),t.send(null),4===t.readyState&&200===t.status&&(r=t.responseText)}}catch(e){}return fileContentsCache[e]=r})),retrieveMapHandlers.push((function(e){var r,t=retrieveSourceMapURL(e);if(!t)return null;if(reSourceMap.test(t)){var n=t.slice(t.indexOf(",")+1);r=bufferFrom_1(n,"base64").toString(),t=e}else t=supportRelativeURL(e,t),r=retrieveFile(t);return r?{url:t,map:r}:null}));var originalRetrieveFileHandlers=retrieveFileHandlers.slice(0),originalRetrieveMapHandlers=retrieveMapHandlers.slice(0),semver=createCommonjsModule((function(e,r){var t;r=e.exports=f,t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},r.SEMVER_SPEC_VERSION="2.0.0";var n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=r.re=[],s=r.src=[],a=r.tokens={},u=0;function c(e){a[e]=u++}c("NUMERICIDENTIFIER"),s[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),s[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),s[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),s[a.MAINVERSION]="("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),s[a.MAINVERSIONLOOSE]="("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),s[a.PRERELEASEIDENTIFIER]="(?:"+s[a.NUMERICIDENTIFIER]+"|"+s[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),s[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[a.NUMERICIDENTIFIERLOOSE]+"|"+s[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),s[a.PRERELEASE]="(?:-("+s[a.PRERELEASEIDENTIFIER]+"(?:\\."+s[a.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),s[a.PRERELEASELOOSE]="(?:-?("+s[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[a.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),s[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),s[a.BUILD]="(?:\\+("+s[a.BUILDIDENTIFIER]+"(?:\\."+s[a.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),s[a.FULLPLAIN]="v?"+s[a.MAINVERSION]+s[a.PRERELEASE]+"?"+s[a.BUILD]+"?",s[a.FULL]="^"+s[a.FULLPLAIN]+"$",c("LOOSEPLAIN"),s[a.LOOSEPLAIN]="[v=\\s]*"+s[a.MAINVERSIONLOOSE]+s[a.PRERELEASELOOSE]+"?"+s[a.BUILD]+"?",c("LOOSE"),s[a.LOOSE]="^"+s[a.LOOSEPLAIN]+"$",c("GTLT"),s[a.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),s[a.XRANGEIDENTIFIERLOOSE]=s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),s[a.XRANGEIDENTIFIER]=s[a.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),s[a.XRANGEPLAIN]="[v=\\s]*("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:"+s[a.PRERELEASE]+")?"+s[a.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),s[a.XRANGEPLAINLOOSE]="[v=\\s]*("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:"+s[a.PRERELEASELOOSE]+")?"+s[a.BUILD]+"?)?)?",c("XRANGE"),s[a.XRANGE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAIN]+"$",c("XRANGELOOSE"),s[a.XRANGELOOSE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAINLOOSE]+"$",c("COERCE"),s[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),i[a.COERCERTL]=new RegExp(s[a.COERCE],"g"),c("LONETILDE"),s[a.LONETILDE]="(?:~>?)",c("TILDETRIM"),s[a.TILDETRIM]="(\\s*)"+s[a.LONETILDE]+"\\s+",i[a.TILDETRIM]=new RegExp(s[a.TILDETRIM],"g");c("TILDE"),s[a.TILDE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAIN]+"$",c("TILDELOOSE"),s[a.TILDELOOSE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAINLOOSE]+"$",c("LONECARET"),s[a.LONECARET]="(?:\\^)",c("CARETTRIM"),s[a.CARETTRIM]="(\\s*)"+s[a.LONECARET]+"\\s+",i[a.CARETTRIM]=new RegExp(s[a.CARETTRIM],"g");c("CARET"),s[a.CARET]="^"+s[a.LONECARET]+s[a.XRANGEPLAIN]+"$",c("CARETLOOSE"),s[a.CARETLOOSE]="^"+s[a.LONECARET]+s[a.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),s[a.COMPARATORLOOSE]="^"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),s[a.COMPARATOR]="^"+s[a.GTLT]+"\\s*("+s[a.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),s[a.COMPARATORTRIM]="(\\s*)"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+"|"+s[a.XRANGEPLAIN]+")",i[a.COMPARATORTRIM]=new RegExp(s[a.COMPARATORTRIM],"g");c("HYPHENRANGE"),s[a.HYPHENRANGE]="^\\s*("+s[a.XRANGEPLAIN]+")\\s+-\\s+("+s[a.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),s[a.HYPHENRANGELOOSE]="^\\s*("+s[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[a.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),s[a.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<u;l++)t(l,s[l]),i[l]||(i[l]=new RegExp(s[l]));function p(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof f)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(r.loose?i[a.LOOSE]:i[a.FULL]).test(e))return null;try{return new f(e,r)}catch(e){return null}}function f(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof f){if(e.loose===r.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof f))return new f(e,r);t("SemVer",e,r),this.options=r,this.loose=!!r.loose;var s=e.trim().match(r.loose?i[a.LOOSE]:i[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var r=+e;if(r>=0&&r<o)return r}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}r.parse=p,r.valid=function(e,r){var t=p(e,r);return t?t.version:null},r.clean=function(e,r){var t=p(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null},r.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(e){return t("SemVer.compare",this.version,this.options,e),e instanceof f||(e=new f(e,this.options)),this.compareMain(e)||this.comparePre(e)},f.prototype.compareMain=function(e){return e instanceof f||(e=new f(e,this.options)),m(this.major,e.major)||m(this.minor,e.minor)||m(this.patch,e.patch)},f.prototype.comparePre=function(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var r=0;do{var n=this.prerelease[r],o=e.prerelease[r];if(t("prerelease compare",r,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return m(n,o)}while(++r)},f.prototype.compareBuild=function(e){e instanceof f||(e=new f(e,this.options));var r=0;do{var n=this.build[r],o=e.build[r];if(t("prerelease compare",r,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return m(n,o)}while(++r)},f.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r),this.inc("pre",r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},r.inc=function(e,r,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new f(e,t).inc(r,n).version}catch(e){return null}},r.diff=function(e,r){if(v(e,r))return null;var t=p(e),n=p(r),o="";if(t.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in t)if(("major"===s||"minor"===s||"patch"===s)&&t[s]!==n[s])return o+s;return i},r.compareIdentifiers=m;var h=/^[0-9]+$/;function m(e,r){var t=h.test(e),n=h.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1}function g(e,r,t){return new f(e,t).compare(new f(r,t))}function d(e,r,t){return g(e,r,t)>0}function E(e,r,t){return g(e,r,t)<0}function v(e,r,t){return 0===g(e,r,t)}function R(e,r,t){return 0!==g(e,r,t)}function S(e,r,t){return g(e,r,t)>=0}function _(e,r,t){return g(e,r,t)<=0}function I(e,r,t,n){switch(r){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e===t;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e!==t;case"":case"=":case"==":return v(e,t,n);case"!=":return R(e,t,n);case">":return d(e,t,n);case">=":return S(e,t,n);case"<":return E(e,t,n);case"<=":return _(e,t,n);default:throw new TypeError("Invalid operator: "+r)}}function A(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof A){if(e.loose===!!r.loose)return e;e=e.value}if(!(this instanceof A))return new A(e,r);t("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===L?this.value="":this.value=this.operator+this.semver.version,t("comp",this)}r.rcompareIdentifiers=function(e,r){return m(r,e)},r.major=function(e,r){return new f(e,r).major},r.minor=function(e,r){return new f(e,r).minor},r.patch=function(e,r){return new f(e,r).patch},r.compare=g,r.compareLoose=function(e,r){return g(e,r,!0)},r.compareBuild=function(e,r,t){var n=new f(e,t),o=new f(r,t);return n.compare(o)||n.compareBuild(o)},r.rcompare=function(e,r,t){return g(r,e,t)},r.sort=function(e,t){return e.sort((function(e,n){return r.compareBuild(e,n,t)}))},r.rsort=function(e,t){return e.sort((function(e,n){return r.compareBuild(n,e,t)}))},r.gt=d,r.lt=E,r.eq=v,r.neq=R,r.gte=S,r.lte=_,r.cmp=I,r.Comparator=A;var L={};function O(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof O)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new O(e.raw,r);if(e instanceof A)return new O(e.value,r);if(!(this instanceof O))return new O(e,r);if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function C(e,r){for(var t=!0,n=e.slice(),o=n.pop();t&&n.length;)t=n.every((function(e){return o.intersects(e,r)})),o=n.pop();return t}function y(e){return!e||"x"===e.toLowerCase()||"*"===e}function M(e,r,t,n,o,i,s,a,u,c,l,p,f){return((r=y(t)?"":y(n)?">="+t+".0.0":y(o)?">="+t+"."+n+".0":">="+r)+" "+(a=y(u)?"":y(c)?"<"+(+u+1)+".0.0":y(l)?"<"+u+"."+(+c+1)+".0":p?"<="+u+"."+c+"."+l+"-"+p:"<="+a)).trim()}function w(e,r,n){for(var o=0;o<e.length;o++)if(!e[o].test(r))return!1;if(r.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(t(e[o].semver),e[o].semver!==L&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===r.major&&i.minor===r.minor&&i.patch===r.patch)return!0}return!1}return!0}function N(e,r,t){try{r=new O(r,t)}catch(e){return!1}return r.test(e)}function T(e,r,t,n){var o,i,s,a,u;switch(e=new f(e,n),r=new O(r,n),t){case">":o=d,i=_,s=E,a=">",u=">=";break;case"<":o=E,i=S,s=d,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(N(e,r,n))return!1;for(var c=0;c<r.set.length;++c){var l=r.set[c],p=null,h=null;if(l.forEach((function(e){e.semver===L&&(e=new A(">=0.0.0")),p=p||e,h=h||e,o(e.semver,p.semver,n)?p=e:s(e.semver,h.semver,n)&&(h=e)})),p.operator===a||p.operator===u)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===u&&s(e,h.semver))return!1}return!0}A.prototype.parse=function(e){var r=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],t=e.match(r);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new f(t[2],this.options.loose):this.semver=L},A.prototype.toString=function(){return this.value},A.prototype.test=function(e){if(t("Comparator.test",e,this.options.loose),this.semver===L||e===L)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return I(e,this.operator,this.semver,this.options)},A.prototype.intersects=function(e,r){if(!(e instanceof A))throw new TypeError("a Comparator is required");var t;if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),""===this.operator)return""===this.value||(t=new O(e.value,r),N(this.value,t,r));if(""===e.operator)return""===e.value||(t=new O(this.value,r),N(e.semver,t,r));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=I(this.semver,"<",e.semver,r)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=I(this.semver,">",e.semver,r)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||u},r.Range=O,O.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},O.prototype.toString=function(){return this.range},O.prototype.parseRange=function(e){var r=this.options.loose;e=e.trim();var n=r?i[a.HYPHENRANGELOOSE]:i[a.HYPHENRANGE];e=e.replace(n,M),t("hyphen replace",e),e=e.replace(i[a.COMPARATORTRIM],"$1$2$3"),t("comparator trim",e,i[a.COMPARATORTRIM]),e=(e=(e=e.replace(i[a.TILDETRIM],"$1~")).replace(i[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=r?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],s=e.split(" ").map((function(e){return function(e,r){return t("comp",e,r),e=function(e,r){return e.trim().split(/\s+/).map((function(e){return function(e,r){t("caret",e,r);var n=r.loose?i[a.CARETLOOSE]:i[a.CARET];return e.replace(n,(function(r,n,o,i,s){var a;return t("caret",e,r,n,o,i,s),y(n)?a="":y(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":y(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(t("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(t("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),t("caret return",a),a}))}(e,r)})).join(" ")}(e,r),t("caret",e),e=function(e,r){return e.trim().split(/\s+/).map((function(e){return function(e,r){var n=r.loose?i[a.TILDELOOSE]:i[a.TILDE];return e.replace(n,(function(r,n,o,i,s){var a;return t("tilde",e,r,n,o,i,s),y(n)?a="":y(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":y(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(t("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",t("tilde return",a),a}))}(e,r)})).join(" ")}(e,r),t("tildes",e),e=function(e,r){return t("replaceXRanges",e,r),e.split(/\s+/).map((function(e){return function(e,r){e=e.trim();var n=r.loose?i[a.XRANGELOOSE]:i[a.XRANGE];return e.replace(n,(function(n,o,i,s,a,u){t("xRange",e,n,o,i,s,a,u);var c=y(i),l=c||y(s),p=l||y(a),f=p;return"="===o&&f&&(o=""),u=r.includePrerelease?"-0":"",c?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&f?(l&&(s=0),a=0,">"===o?(o=">=",l?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):"<="===o&&(o="<",l?i=+i+1:s=+s+1),n=o+i+"."+s+"."+a+u):l?n=">="+i+".0.0"+u+" <"+(+i+1)+".0.0"+u:p&&(n=">="+i+"."+s+".0"+u+" <"+i+"."+(+s+1)+".0"+u),t("xRange return",n),n}))}(e,r)})).join(" ")}(e,r),t("xrange",e),e=function(e,r){return t("replaceStars",e,r),e.trim().replace(i[a.STAR],"")}(e,r),t("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new A(e,this.options)}),this)},O.prototype.intersects=function(e,r){if(!(e instanceof O))throw new TypeError("a Range is required");return this.set.some((function(t){return C(t,r)&&e.set.some((function(e){return C(e,r)&&t.every((function(t){return e.every((function(e){return t.intersects(e,r)}))}))}))}))},r.toComparators=function(e,r){return new O(e,r).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},O.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}for(var r=0;r<this.set.length;r++)if(w(this.set[r],e,this.options))return!0;return!1},r.satisfies=N,r.maxSatisfying=function(e,r,t){var n=null,o=null;try{var i=new O(r,t)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new f(n=e,t)))})),n},r.minSatisfying=function(e,r,t){var n=null,o=null;try{var i=new O(r,t)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new f(n=e,t)))})),n},r.minVersion=function(e,r){e=new O(e,r);var t=new f("0.0.0");if(e.test(t))return t;if(t=new f("0.0.0-0"),e.test(t))return t;t=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var r=new f(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":t&&!d(t,r)||(t=r);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(t&&e.test(t))return t;return null},r.validRange=function(e,r){try{return new O(e,r).range||"*"}catch(e){return null}},r.ltr=function(e,r,t){return T(e,r,"<",t)},r.gtr=function(e,r,t){return T(e,r,">",t)},r.outside=T,r.prerelease=function(e,r){var t=p(e,r);return t&&t.prerelease.length?t.prerelease:null},r.intersects=function(e,r,t){return e=new O(e,t),r=new O(r,t),e.intersects(r)},r.coerce=function(e,r){if(e instanceof f)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var t=null;if((r=r||{}).rtl){for(var n;(n=i[a.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)t&&n.index+n[0].length===t.index+t[0].length||(t=n),i[a.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;i[a.COERCERTL].lastIndex=-1}else t=e.match(i[a.COERCE]);if(null===t)return null;return p(t[2]+"."+(t[3]||"0")+"."+(t[4]||"0"),r)}})),semver_1=semver.SEMVER_SPEC_VERSION,semver_2=semver.re,semver_3=semver.src,semver_4=semver.tokens,semver_5=semver.parse,semver_6=semver.valid,semver_7=semver.clean,semver_8=semver.SemVer,semver_9=semver.inc,semver_10=semver.diff,semver_11=semver.compareIdentifiers,semver_12=semver.rcompareIdentifiers,semver_13=semver.major,semver_14=semver.minor,semver_15=semver.patch,semver_16=semver.compare,semver_17=semver.compareLoose,semver_18=semver.compareBuild,semver_19=semver.rcompare,semver_20=semver.sort,semver_21=semver.rsort,semver_22=semver.gt,semver_23=semver.lt,semver_24=semver.eq,semver_25=semver.neq,semver_26=semver.gte,semver_27=semver.lte,semver_28=semver.cmp,semver_29=semver.Comparator,semver_30=semver.Range,semver_31=semver.toComparators,semver_32=semver.satisfies,semver_33=semver.maxSatisfying,semver_34=semver.minSatisfying,semver_35=semver.minVersion,semver_36=semver.validRange,semver_37=semver.ltr,semver_38=semver.gtr,semver_39=semver.outside,semver_40=semver.prerelease,semver_41=semver.intersects,semver_42=semver.coerce;const exec=util$1.promisify(childProcess.exec);function execFactory(e){return r=>exec(r,{cwd:e}).then(({stdout:e})=>e)}const readFile=util$1.promisify(fs$1.readFile);async function readAll(e){return(await readFile(e)).toString("utf8")}const access=util$1.promisify(fs$1.access);async function fileExists(e){try{return await access(e,fs$1.constants.R_OK),!0}catch(e){return!1}}function shouldPublish({version:e,skippedVersions:r,info:t}){return r&&semver_32(e,r)?{should:!1,reason:"Version is within skipped versions range"}:"error"===t.type?{should:!0}:t.data.includes(e)?{should:!1,reason:"Version already published"}:{should:!0}}async function publish({version:e,exec:r,dryRun:t,skipGitTag:n}){if(t?console.log(`[DRY RUN] Would have published version ${e} to registry`):await r("yarn publish --not-interactive"),n){const n=`v${e}`;if(t){const e=await r("git rev-parse --short HEAD");console.log(`[DRY RUN] Would have tagged commit ${e} with tag ${n}`)}else await r(`git tag -a ${n}`)}else console.log("Skipped git tagging")}async function action({packagePath:e,dryRun:r,skippedVersions:t,skipGitTag:n}){const o=e?path$1.resolve(e):process.cwd(),i=path$1.resolve(o,"package.json");if(!await fileExists(i))throw new Error(`Package.json at ${i} cannot be accessed`);const s=execFactory(o),a=await readAll(i),u=JSON.parse(a),c=semver_6(u.version);if(!c)throw new Error(`Version ${c} is not a valid semver string`);const l=await s(`yarn info ${u.name} versions --json`),p=shouldPublish({version:c,skippedVersions:t,info:JSON.parse(l)});p.should?await publish({version:c,exec:s,dryRun:r,skipGitTag:n}):console.log(`Skipping publish, reason: ${p.reason}`)}var command=createCommonjsModule((function(e,r){function t(e,r,t){const n=new o(e,r,t);process.stdout.write(n.toString()+os.EOL)}Object.defineProperty(r,"__esModule",{value:!0}),r.issueCommand=t,r.issue=function(e,r=""){t(e,{},r)};const n="::";class o{constructor(e,r,t){e||(e="missing.command"),this.command=e,this.properties=r,this.message=t}toString(){let e=n+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";for(const t in this.properties)if(this.properties.hasOwnProperty(t)){const n=this.properties[t];n&&(e+=`${t}=${r=`${n||""}`,r.replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/]/g,"%5D").replace(/;/g,"%3B")},`)}}var r;return e+=n,e+=function(e){return e.replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(`${this.message||""}`)}}}));unwrapExports(command);var command_1=command.issueCommand,command_2=command.issue,core=createCommonjsModule((function(e,r){var t,n=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,a)}u((n=n.apply(e,r||[])).next())}))};function o(e,r){process.env[e]=r,command.issueCommand("set-env",{name:e},r)}function i(e){command.issue("error",e)}function s(e){command.issue("group",e)}function a(){command.issue("endgroup")}Object.defineProperty(r,"__esModule",{value:!0}),function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(t=r.ExitCode||(r.ExitCode={})),r.exportVariable=o,r.exportSecret=function(e,r){throw o(e,r),command.issueCommand("set-secret",{},r),new Error("Not implemented.")},r.addPath=function(e){command.issueCommand("add-path",{},e),process.env.PATH=`${e}${path$1.delimiter}${process.env.PATH}`},r.getInput=function(e,r){const t=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!t)throw new Error(`Input required and not supplied: ${e}`);return t.trim()},r.setOutput=function(e,r){command.issueCommand("set-output",{name:e},r)},r.setFailed=function(e){process.exitCode=t.Failure,i(e)},r.debug=function(e){command.issueCommand("debug",{},e)},r.error=i,r.warning=function(e){command.issue("warning",e)},r.info=function(e){process.stdout.write(e+os.EOL)},r.startGroup=s,r.endGroup=a,r.group=function(e,r){return n(this,void 0,void 0,(function*(){let t;s(e);try{t=yield r()}finally{a()}return t}))}})),actionCore=unwrapExports(core),core_1=core.ExitCode,core_2=core.exportVariable,core_3=core.exportSecret,core_4=core.addPath,core_5=core.getInput,core_6=core.setOutput,core_7=core.setFailed,core_8=core.debug,core_9=core.error,core_10=core.warning,core_11=core.info,core_12=core.startGroup,core_13=core.endGroup,core_14=core.group;function getBoolInput(e,r){const t=actionCore.getInput(e)||r;switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Value of ${t} for input ${e} is not valid (value has to be either 'true' or 'false')`)}}function loadConfig(){return{packagePath:actionCore.getInput("package-path"),dryRun:getBoolInput("dry-run","false"),skippedVersions:actionCore.getInput("skipped-versions").trim(),skipGitTag:getBoolInput("skip-git-tag","false")}}async function main(){await action(loadConfig())}main().catch(e=>{console.error(e),process.exit(1)});
//# sourceMappingURL=action.js.map
